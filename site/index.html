<!DOCTYPE html>
<html>
  <head>
    <title>jQuery TourBus</title>

    <meta charset="utf-8">
    <meta name="author" content="Ryan Funduk">
    <meta name="description" content="">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

    <script src='deps/jquery.js'></script>
    <script src='deps/jquery-imagesloaded.js'></script>
    <script src='deps/jquery-scrollto.js'></script>
    <script src='../dist/jquery-tourbus.min.js'></script>

    <script src='highlight.js'></script>
    <script src='demo.js'></script>

    <link href='skeleton.css' media='all' rel='stylesheet' type='text/css' />
    <link href='../dist/jquery-tourbus.min.css' media='all' rel='stylesheet' type='text/css' />
    <link href='demo.css' media='all' rel='stylesheet' type='text/css' />
  </head>
  <body>
    <div class="container">
      <div class='ten columns offset-by-three'>
        <div id='header'>
          <a class='start-intro-tour button'>Demo <span>&raquo;</span></a>
          <a class='go-to-docs button'>Docs <span>&raquo;</span></a>
          <h1>jQuery TourBus</h1>
        </div>

        <p>
          Holy crap it is definitely <em>yet another</em> jQuery
          tour/walkthrough plugin! And it is written in
          <a id='link' href='http://coffeescript.org' target='_blank'>CoffeeScript</a>!
          Arrrggg!
        </p>

        <p>
          Well, too bad for you! I was using Joyride but the version bundled
          with <a href='http://foundation.zurb.com/' target='_blank'>Foundation 4</a>
          changed a bunch and I didn't like it at all. It's a bit hard to describe
          and not really relevant why that is... it will suffice to say I
          figured it couldn't be too hard to hack together a pretty full-featured
          tour plugin.
        </p>

        <div id='tour-info'>
          Intro tour is inactive...
        </div>

        <div class='row'>
          <div class='five columns alpha'>
            <img id='img' src="pranksters.jpg" class='five columns alpha' />
          </div>
          <div class='five columns omega'>
            <table>
              <tr>
                <th nowrap>Download Source:</th>
                <td>
                  <a class='button half-bottom' target='_blank' id='coffee-dl' href='../src/jquery-tourbus.coffee'>coffeescript</a>
                  <br/>
                  <a class='button half-bottom' target='_blank' id='plain-dl' href='../dist/jquery-tourbus.js'>javascript</a>
                  <br/>
                  <a class='button half-bottom' target='_blank' id='minified-dl' href='../dist/jquery-tourbus.min.js'>minified js</a>
                </td>
              </tr>
              <tr class='sep'>
                <th nowrap>Download CSS:</th>
                <td id='css'>
                  <a class='button half-bottom' target='_blank' href='../src/jquery-tourbus.less'>less</a>
                  <br/>
                  <a class='button half-bottom' target='_blank' href='../dist/jquery-tourbus.css'>css</a>
                  <br/>
                  <a class='button half-bottom' target='_blank' href='../dist/jquery-tourbus.min.css'>minified css</a>
                </td>
              </tr>
              <tr class='sep'>
                <th nowrap>Dependencies:</th>
                <td id='deps'>
                  <a class='button half-bottom' target='_blank' href='http://jquery.com/'>jQuery</a>
                  <a class='button half-bottom' target='_blank' href='http://flesler.blogspot.ca/2007/10/jqueryscrollto.html'>jQuery-scrollTo</a>
                  <a class='button half-bottom' target='_blank' href='http://desandro.github.com/imagesloaded/'>jQuery-imagesLoaded</a>
                </td>
              </tr>
            </table>
          </div>
        </div>

        <p>
          Indeed, it wasn't especially hard. It probably took more time to
          make this website than to implement the main bits of the plugin.
          It takes the approach that you are a developer &ndash; a decent one &ndash;
          and you just want to run a couple little popups attached to some
          key elements in your interface, probably with buttons to navigate
          between them (or maybe do it programmatically at times with delays and
          stuff like that).
        </p>

        <p>
          So, to put it straight. If you want auto navigation between all
          (or certain) 'legs' &ndash; just write some javascript to do it!
          If you want the targets of all (or certain) 'legs' to be highlighted
          in some way &ndash; write some JS! If you want the browser to
          remember where the user was in the tour &ndash; write some JS!
          If you want animation in/out of legs, yep &ndash; write some JS!
        </p>
        <a class='start-intro-tour button'>Start the Demo Tour <span>&raquo;</span></a>


        <div style='margin-top: 1500px;' id='docs'>
          <h1>Documentation</h1>
          <div id='inner-docs'>
            <p>
              jQuery TourBus does not <em>need</em> to exist, there are so
              many plugins that do exact this already, aren't there?
            </p>
            <ul style='margin-right: 180px;'>
              <li><a href='http://www.zurb.com/playground/jquery-joyride-feature-tour-plugin' class='remove-bottom' target='_blank'>ZURB Foundation Joyride</a></li>
              <li><a href='http://jquerytour.com/' class='remove-bottom' target='_blank'>jQuery Site Tour</a></li>
              <li>
                Actually there are just too many to list, here's 10:<br/>
                <a href='http://www.jquery4u.com/plugins/web-tour-instructional-plugins/' target='_blank'>10 jQuery web tour, help and instructional plugins</a>...
              </li>
            </ul>
            <p>
              You know how it is, I just didn't really like them. Either too much configuration
              in the DOM, or not enough. Confusing disregard for the simplicity of
              event-driven APIs. A ton of styles and animation that results in performance
              problems.
            </p>
            <p>
              All of these things ultimately stem from trying to do too much automatically.
              You're a developer, right? So jQuery TourBus takes more of a toolkit approach
              than some of the alternatives that try to have focusing elements, auto-progress
              with timers and indicators, on and on... too much stuff! <strong>Less is more!</strong>
            </p>

            <div class='row'>
              <div class='five columns alpha'>
                <ul class='docs-nav'>
                  <lh>Basic Usage</lh>
                  <li><a href='#markup'>Markup</a></li>
                  <li><a href='#tourbus-events'>TourBus Events</a></li>
                  <li><a href='#tourbus-methods'>TourBus Methods</a></li>
                  <li><a href='#leg-methods'>Leg Methods</a></li>
                </ul>
                <ul class='docs-nav'>
                  <lh>Customization</lh>
                  <li><a href='#global-options'>TourBus Options</a></li>
                  <li><a href='#leg-options'>Leg Options</a></li>
                </ul>
              </div>
              <div class='five columns omega'>
                <ul class='docs-nav'>
                  <lh>Miscellaneous</lh>
                  <li><a href='#convenience-classes'>Leg Convenience Classes</a></li>
                  <li><a href='#css-stuff'>Leg CSS</a></li>
                </ul>
                <ul class='docs-nav'>
                  <lh>Advanced Usage</lh>
                  <li><a href='#custom-properties'>Custom Leg Properties</a></li>
                  <li><a href='#tourbus-internals'>TourBus/Leg Internals</a></li>
                  <li><a href='#example-1'>Example: Auto-progress</a></li>
                  <li><a href='#example-2'>Example: Show Multiple</a></li>
                  <li><a href='#example-3'>Example: Animate in/out</a></li>
                </ul>
              </div>
            </div>

            <a name='markup'></a>
            <h2>Basic Usage</h2>
            <p>
              Start by including the jQuery plugin and base styles on your page, of course.
              Then we can define some 'legs' of our tour. Imagine you have a page
              with some stuff you want to lead the user through, maybe some elements
              like <tt>#nav</tt> and <tt>#sell</tt>...
            </p>

            <script class='highlight' data-language='html' type='text/highlight'>
<ol class='tourbus-legs' id='my-tour-id'>

  <li data-orientation='centered'>
    <h2>This is a modal-like tour leg</h2>
    <p>It isn't attached to a specific element.</p>
    <a href='javascript:void(0);' class='tourbus-next'>Next...</a>
  </li>

  <li data-el='#nav' data-orientation='left' data-width='400'>
    <h2>Navigation</h2>
    <p>Here's where I explain how our navigation works...</p>
    <a href='javascript:void(0);' class='tourbus-next'>Next...</a>
  </li>

  <li data-el='#sell' data-orientation='bottom' data-width='300'>
    <p>Buy now, etc, etc</p>
    <a href='javascript:void(0);' class='tourbus-stop'>Done!</a>
  </li>

</ol>
            </script>

            <p>
              This is the general idea, and there are quite a lot of properties
              you can specify on your legs to customize the behavior (we'll
              get to that stuff in a bit).
              Next let's 'schedule' the tour in our JavaScript
              (<abbr title='Do you see what I did there!?'>DYSWIDT</abbr>):
            </p>

            <script class='highlight' data-language='javascript' type='text/highlight'>
$(document).ready( function() {
  var tour = $('#my-tour-id').tourbus( {} );
} );
            </script>

            <p>
              Now the <strong><tt>tour</tt></strong> variable has the ordered
              list of legs we defined above. You can trigger events on this
              element:
            </p>

            <script class='highlight' data-language='javascript' type='text/highlight'>
tour.trigger('depart.tourbus');
            </script>

            <a name='tourbus-events'></a>
            <p>
              Here are the events it responds to:
            </p>

            <table class='docs'>
              <tr>
                <th width='25%'><tt>depart.tourbus</tt></th>
                <td>Starts this tour from the beginning.</td>
              </tr>
              <tr>
                <th><tt>stop.tourbus</tt></th>
                <td>Stop the tour and take everyone home :(</td>
              </tr>
              <tr>
                <th><tt>next.tourbus</tt></th>
                <td>Advance to the next leg of the tour.</td>
              </tr>
              <tr>
                <th><tt>prev.tourbus</tt></th>
                <td>Go back to the previous leg.</td>
              </tr>
            </table>

            <p>
              Or you can get a reference to the <strong><tt>TourBus</tt></strong>
              instance itself and call methods directly:
            </p>

            <script class='highlight' data-language='javascript' type='text/highlight'>
tour.data('tourbus').depart();
            </script>

            <a name='tourbus-methods'></a>
            <p>
              Here are its methods:
            </p>

            <table class='docs'>
              <tr>
                <th width='25%'><tt>depart</tt></th>
                <td>Starts this tour from the beginning.</td>
              </tr>
              <tr>
                <th><tt>stop</tt></th>
                <td>Stop the tour and take everyone home :(</td>
              </tr>
              <tr>
                <th><tt>next</tt></th>
                <td>Advance to the next leg of the tour.</td>
              </tr>
              <tr>
                <th><tt>prev</tt></th>
                <td>Go back to the previous leg.</td>
              </tr>
              <tr>
                <th><tt>currentLeg</tt></th>
                <td>The <tt>Leg</tt> instance of the current leg.</td>
              </tr>
              <tr>
                <th><tt>showLeg</tt></th>
                <td>Forcibly show the current leg of the tour.</td>
              </tr>
              <tr>
                <th><tt>hideLeg</tt></th>
                <td>Forcibly hide the current leg of the tour.</td>
              </tr>
              <tr>
                <th><tt>hideAllLegs</tt></th>
                <td>Forcibly hide all legs of the tour.</td>
              </tr>
              <tr>
                <th><tt>destroy</tt></th>
                <td>
                  <tt>destroy</tt> all legs,
                  unbind all event handlers. Tour is over!
                </td>
              </tr>
            </table>

            <a name='leg-methods'></a>
            <p>
              A tour is made up of 'legs', so there is an instance
              for each of those as well. Here are the methods on <tt>Leg</tt>.
            </p>

            <table class='docs'>
              <tr>
                <th width='25%'><tt>render</tt></th>
                <td>
                  Generate markup for this leg and insert it into the
                  DOM, replacing any that already exists.
                  <br/><small>You should not need to call this yourself.</small>
                </td>
              </tr>
              <tr>
                <th><tt>destroy</tt></th>
                <td>
                  Remove this leg from the DOM and unbind event handlers.
                  <br/><small>You should not need to call this yourself.</small>
                </td>
              </tr>
              <tr>
                <th><tt>position</tt></th>
                <td>
                  Set the position of this leg (its physical position
                  on the page).
                  <br/><small>You should not need to call this yourself.</small>
                </td>
              </tr>
              <tr>
                <th><tt>scrollIntoView</tt></th>
                <td>
                  Scroll the page, if possible, so that this leg is in view,
                  and according to it's various settings (such as <tt>context</tt>).
                  <br/><small>You should not need to call this yourself.</small>
                </td>
              </tr>
              <tr>
                <th><tt>show</tt></th>
                <td>
                  Set visibility, opacity and z-index
                  such that this leg is visible.
                </td>
              </tr>
              <tr>
                <th><tt>hide</tt></th>
                <td>
                  Set visibility, opacity and z-index
                  such that this leg is invisible.
                </td>
              </tr>
              <tr>
                <th><tt>showLeg</tt></th>
                <td>Forcibly show the current leg of the tour.</td>
              </tr>
              <tr>
                <th><tt>hideLeg</tt></th>
                <td>Forcibly hide the current leg of the tour.</td>
              </tr>
              <tr>
                <th><tt>hideAllLegs</tt></th>
                <td>Forcibly hide all legs of the tour.</td>
              </tr>
              <tr>
                <th><tt>destroy</tt></th>
                <td>
                  <tt>destroy</tt> all legs,
                  unbind all event handlers. Tour is over!
                </td>
              </tr>
            </table>


            <a name='global-options'></a>
            <h2>Customization</h2>
            <p>
              The <tt>tourbus</tt> plugin constructor
              takes some global options as an object like you would expect.
              They are:
            </p>

            <script class='highlight' data-language='javascript' type='text/highlight'>
{
  // outputs a lot of stuff to the console
  debug: false,

  // auto start when initialized
  autoDepart: false,

  // specify a container for the leg markup
  target: 'body',

  // the depart-point of the tour
  startAt: 0,

  // called when the tour starts
  onDepart: function( tourbus ) {},
  // called when the tour is stopped for any reason
  onStop: function( tourbus ) {},
  // called before switching to a leg
  onLegStart: function( leg, tourbus ) {},
  // called before switching _from_ a leg
  onLegEnd: function( leg, tourbus ) {},

  // global leg defaults
  leg: {
    // override scroll position (0 for top of page, etc)
    scrollTo: null,
    // duration of scroll animation
    scrollSpeed: 150,
    // how much space to leave above the leg when scrolled to
    scrollContext: 100,

    // position of leg in relation to target
    // supports top/right/bottom/left
    orientation: 'bottom',

    // alignment of leg to target
    // supports:
    //   left/right/center for orientation of top/bottom
    //   top/bottom/center for orientation of left/right
    align: 'left',

    // width of leg
    width: 'auto',

    // space between leg and target
    margin: 10,

    // forcibly override top/left positioning of leg
    top: null,
    left: null,

    // location of arrow, if applicable
    // if you pass a string (like "50%") it will be used
    // verbatim, if you pass a number, it will be in pixels
    arrow: "50%"
  }
}
            </script>

            <a name='leg-options'></a>
            <p>
              You don't always want to only use globals that affect
              every single leg... so you can specify the above 'leg' options
              on a per-leg basis. This is done in the markup with
              <tt>data-</tt> attributes. Here's all of them,
              they match up with the global defaults above pretty obviously.
              Only the first one is special and usually required, it
              defines the target of the leg (what it should point to/be near):
            </p>

            <table class='docs'>
              <tr>
                <th width='25%'><tt>data-el</tt></th>
                <td>
                  The jQuery selector of the element that this leg
                  should 'target' on-page. If you leave this off, it will
                  assume you want a modal, and it will be centered inside
                  the <tt>container</tt> of the tour
                  (or you can override it with <tt>data-top</tt>,
                  as seen below).
                </td>
              </tr>
              <tr>
                <th><tt>data-scroll-to</tt></th>
                <td>
                  Override scroll position (0 for top of page, etc) for this
                  leg (normally it would be computed based on the offset and context).
                </td>
              </tr>
              <tr>
                <th><tt>data-scroll-speed</tt></th>
                <td>
                  The duration of the scrolling animation (can be 0 for instant,
                  or just don't include <tt>jQuery-scrollTo</tt>
                  on your page).
                </td>
              </tr>
              <tr>
                <th><tt>data-scroll-context</tt></th>
                <td>How much space to leave above the leg when scrolled to (if scrolled to).</td>
              </tr>
              <tr>
                <th><tt>data-orientation</tt></th>
                <td>
                  Position of this leg in relation to its target.
                  Default is <tt>bottom</tt>, can be any of
                  <tt>top</tt>, <tt>right</tt>, <tt>bottom</tt>, <tt>left</tt>
                  or <tt>centered</tt> to force a modal regardless of
                  <tt>data-el</tt>.
                </td>
              </tr>
              <tr>
                <th><tt>data-align</tt></th>
                <td>
                  Alignment of leg in relation to its target.
                  Default is <tt>left</tt> for orientations of top/bottom
                  or <tt>top</tt> for orientations of left/right.
                  Valid values (again depending on orientation):
                  <tt>top</tt>, <tt>right</tt>, <tt>bottom</tt>,
                  <tt>left</tt>, <tt>center</tt>.
                </td>
              </tr>
              <tr>
                <th><tt>data-width</tt></th>
                <td>Specify a static width for this leg.</td>
              </tr>
              <tr>
                <th><tt>data-margin</tt></th>
                <td>Extra space between the leg and it's target.</td>
              </tr>
              <tr>
                <th><tt>data-top</tt></th>
                <td>Override the <tt>top</tt> offset of this leg.</td>
              </tr>
              <tr>
                <th><tt>data-left</tt></th>
                <td>Override the <tt>left</tt> offset of this leg.</td>
              </tr>
              <tr>
                <th><tt>data-arrow</tt></th>
                <td>
                  Specifies where the arrow/pointer should be shown
                  (if applicable). Defaults to '50%' and can be any
                  valid CSS value. If you only pass in a number, it
                  will assume pixels.
                </td>
              </tr>
            </table>

            <h2>Miscellaneous</h2>
            <p>
              So you know how to define legs, how to customize them, how
              to setup globals, how to start/stop the tour, etc.
              This section covers some other bits that don't fit anywhere
              else.
            </p>

            <a name='convenience-classes'></a>
            <h3>Convenience Classes</h3>

            <p>
              Any element with one of these convenience classes will perform the
              associated action when clicked &ndash; easy.
              For more fine-grained control, simply bind your own
              event handlers.
            </p>

            <table class='docs'>
              <tr>
                <th width='25%'><tt>tourbus-stop</tt></th>
                <td>Stop the tour and take everyone home :(</td>
              </tr>
              <tr>
                <th><tt>tourbus-next</tt></th>
                <td>Advance to the next leg of the tour.</td>
              </tr>
              <tr>
                <th><tt>tourbus-prev</tt></th>
                <td>Go back to the previous leg.</td>
              </tr>
            </table>

            <p>
              <strong>Note:</strong>
              However, since the elements you want to bind event handlers to
              aren't in the DOM yet, you'll probably want to use this handy
              helper:
            </p>

            <script class='highlight' data-language='javascript' type='text/highlight'>
var tourbus = $('#my-tour').data('tourbus');
tourbus.on( 'click', 'selector', function() {
  // handle click on element matching selector
  // _inside a tour leg_
} );
            </script>


            <a name='css-stuff'></a>
            <h3>Leg CSS</h3>

            <p>
              You will probably want to modify the look/feel
              of the leg popups (including the arrow it
              displays, etc). In <tt>jquery-tourbus.css</tt>
              you'll find the basics of
              the leg styles (padding, background color, etc)
              which you can either edit or override in your own stylesheets.
            </p>

            <p>
              One thing that is a bit tricky is the arrow. You'll
              need to look for the following styles:
            </p>

            <script class='highlight' data-language='css' type='text/highlight'>
.tourbus-arrow:after { /* ... */ border-width: 14px; }
.tourbus-arrow:before { /* ... */ border-width: 16px; }
            </script>

            <p>
              Notice they have different border widths, that's because
              the 2px difference results in a 2px border, colored in the styles
              on the following lines.
            </p>

            <p>
              When you change these values, the same values need to be changed
              in the rest of the arrow styles as well, eg:
            </p>

            <script class='highlight' data-language='css' type='text/highlight'>
.tourbus-arrow-right:after { /* ... */ margin-top: -14px; }
.tourbus-arrow-right:before { /* ... */ margin-top: -16px; }
            </script>

            <p>
              So, if you changed <tt>14px</tt> or <tt>16px</tt> above then they
              also need to be changed
              everywhere else those values appear... except they need
              to be <em>negative</em>!
            </p>

            <p>
              Hopefully changing colors here is self explanatory.
            </p>

            <h2>Advanced Usage</h2>

            <p>
              Here's some example code and suggestions on how
              you might implement some advanced use-cases.
            </p>

            <a name='custom-properties'></a>
            <h3>Custom Properties</h3>
            <p>
              The first thing you need to know is that <tt>data-*</tt>
              attributes unused/unknown to TourBus will be available on
              your legs as <tt>rawData</tt>. Also anything passed into
              the TourBus constructor that is unrecognized will be
              available as <tt>options</tt>.
            </p>

            <p>
              This uses jQuery conventions. The property
              <tt>data-some-custom-property</tt> will be available in
              <tt>rawData</tt> as <tt>rawData.someCustomProperty</tt>.
            </p>

            <a name='tourbus-internals'></a>
            <h3>Useful TourBus Internal Properties</h3>
            <p>
              Internal properties of <tt>Leg</tt> and <tt>TourBus</tt>
              instances that you will find useful for advanced use-cases.
            </p>

            <table class='docs'>
              <tr class='section'>
                <th colspan='2'><tt><strong>TourBus</strong></tt> instances</th>
              </tr>
              <tr>
                <th width='25%'><tt>currentLegIndex</tt></th>
                <td>
                  The index of the current leg. If you modify this
                  then the next calls to <tt>showLeg</tt>, <tt>next</tt>
                  and so on will use this index. Eg. you could use this
                  to skip N legs by binding a click handler that increases
                  this value by N and calling <tt>showLeg</tt>.
                </td>
              </tr>
              <tr>
                <th><tt>options</tt></th>
                <td>
                  All of the merged options (from the constructor
                  and defaults).
                </td>
              </tr>
              <tr>
                <th><tt>running</tt></th>
                <td>Whether this tour is running or not right now.</td>
              </tr>
              <tr>
                <th><tt>legs</tt></th>
                <td>
                  An array of <tt>Leg</tt> instances, in the order
                  they were defined in the DOM.
                </td>
              </tr>
              <tr>
                <th><tt>$target</tt></th>
                <td>
                  jQuery wrapped element where the legs have
                  been inserted. <small><strong>Note:</strong>
                  The legs are not actually inserted until departure.</small>
                </td>
              </tr>
              <tr>
                <th><tt>$el</tt></th>
                <td>
                  jQuery wrapped element which contains
                  the steps. This is the original element you
                  called <tt>tourbus</tt> on.
                </td>
              </tr>
            </table>
            <table class='docs'>
              <tr class='section'>
                <th colspan='2'><tt><strong>Leg</strong></tt> instances</th>
              </tr>
              <tr>
                <th><tt>tourbus</tt></th>
                <td>The tourbus this leg belongs to.</td>
              </tr>
              <tr>
                <th width='25%'><tt>rawData</tt></th>
                <td>All the <tt>data-*</tt> attributes on this leg.</td>
              </tr>
              <tr>
                <th><tt>index</tt></th>
                <td>The index of this leg in its tour.</td>
              </tr>
              <tr>
                <th><tt>$target</tt></th>
                <td>The element this leg targets (will be positioned near, etc).</td>
              </tr>
              <tr>
                <th><tt>$el</tt></th>
                <td>The leg element in the DOM.</td>
              </tr>
              <tr>
                <th><tt>content</tt></th>
                <td>The innerHTML content of this leg.</td>
              </tr>
            </table>

            <script class='highlight' data-language='javascript' type='text/highlight'>
$('#my-tour').tourbus( {
  customProp: 5,
  onLegStart: function( leg, tourbus ) {
    console.log( "Leg", leg.index, ":", leg.rawData );
    console.log( "TourBus customProp:", tourbus.options.customProp );
  }
} );
            </script>

            <p>
              This is how you can implement custom behavior easily, simply
              give your legs individual custom properties, or give them
              to TourBus as global options.
            </p>

            <a name='example-1'></a>
            <h3>Auto-progress from 1 leg to the next.</h3>

            <p>
              The simplest case of auto-progression would look like this.
              First, the markup for a leg which should auto-progress to
              the next leg after 3 seconds:
            </p>

            <script class='highlight' data-language='html' type='text/highlight'>
<li data-el='#header' data-auto-progress='3000'>
  <p>This is the header...</p>
</li>
<li data-el='#footer'>
  <p>...and this is the footer</p>
</li>
            </script>

            <p>And the JavaScript...</p>

            <script class='highlight' data-language='javascript' type='text/highlight'>
$('#my-tour').tourbus( {
  onLegStart: function( leg, tourbus ) {
    if( leg.rawData.autoProgress ) {
      var currentIndex = leg.index;
      setTimeout(
        function() {
          if( tourbus.currentLegIndex != currentIndex ) { return; }
          tourbus.next();
        },
        leg.rawData.autoProgress
      );
    }
  }
} );
            </script>

            <p>
              Simple! This also includes a check so that we don't
              progress to the next leg automatically unless we are
              still on the original leg when the timeout fires.
              You could skip that if it was unnecessary.
            </p>


            <a name='example-2'></a>
            <h3>Show multiple legs at once.</h3>

            <p>Even easier!</p>

            <script class='highlight' data-language='html' type='text/highlight'>
<li data-el='#header' data-and-next='true'>
  <p>This is the header...</p>
</li>
<li data-el='#footer'>
  <p>...and this is the footer</p>
</li>
            </script>

            <script class='highlight' data-language='javascript' type='text/highlight'>
$('#my-tour').tourbus( {
  onLegStart: function( leg, tourbus ) {
    if( leg.rawData.andNext ) {
      tourbus.currentLegIndex++;
      tourbus.showLeg();
    }
  }
} );
            </script>

            <p>
              You can also show a specific leg without actually
              progressing further through the stack by passing
              an index to <tt>showLeg</tt>. For example, if you wanted
              to always show the first leg (a banner at the top of the page
              or similar), you could call <tt>showLeg(0)</tt> at the
              beginning of every <tt>onLegStart</tt>.
            </p>

            <a name='example-3'></a>
            <h3>Animate in or out a leg.</h3>

            <p>
              Lastly, if we want to fade in or do some fancy sliding and
              stuff of a leg, we can use the <tt>onLegStart</tt> for
              animating <em>in</em> and <tt>onLegEnd</tt> for animating
              <em>out</em>.
            </p>

            <p>
              Here we use the fact that returning <tt>false</tt> from
              <tt>onLegStart</tt> (or <tt>onLegEnd</tt>) will prevent
              the normal behavior, and we just implement it ourselves.
              <tt>$el</tt> has the actual step element in it...
            </p>

            <script class='highlight' data-language='javascript' type='text/highlight'>
$('#my-tour').tourbus( {
  onLegStart: function( leg, tourbus ) {
    leg.$el
      .css( { visibility: 'visible', opacity: 0, zIndex: 9999 } )
      .animate( { opacity: 1.0 }, 1000,
                function() { leg.show(); } );
    return false;
  }
} );
            </script>

          </div>
        </div>

        <div style='margin-top: 2000px; margin-bottom: 400px;'>
          <p id='it-scrolls' style='text-align: center;'>
            It also scrolls for you, if you have <tt>jQuery.scrollTo</tt>
            included on your page.
          </p>
        </div>

        <ol class='tourbus-legs' id='tourbus-demo-1'>
          <!-- INTRO -->
          <li data-scroll-to='0' data-width='500' data-orientation='centered' data-top='150'>
            <h3>This is a Tour!</h3>
            <p>
              That's right, you're looking at a real tour right now.
              Well, sort of 'real'. It's more like a <em>demo</em> of
              a tour with silly nonsense in it instead of actual content.
              Later on there is some documentation... that's useful content,
              but it's not part of this tour.
            </p>
            <div class='buttons'>
              <a href='javascript:void(0);' style='float: right;' class='button remove-bottom tourbus-next'>Tell me more <span>&raquo;</span></a>
              <a href='javascript:void(0);' class='button remove-bottom tourbus-stop'><span>&times;</span> Not interested...</a>
              <a href='javascript:void(0);' class='button remove-bottom docs-tour'>Got any docs?</a>
            </div>
          </li>

          <!-- Link -->
          <li data-el='#link' data-scroll-to='false' data-width='220' data-orientation='bottom' data-align='center'>
            <a class='button remove-bottom tourbus-next' style='margin-top: 2px; float: right;' href='javascript:void(0);'>cool story <span>&raquo;</span></a>
            <h4 class='remove-bottom'>A link!</h4>
          </li>

          <!-- Caps -->
          <li data-el='#img' data-scroll-to='false' data-width='320' data-orientation='right' data-margin='10' data-align='top'>
            <a style='margin-top: 2px; float: right;' href='javascript:void(0);' class='tourbus-next button remove-bottom'>sweet <span>&raquo;</span></a>
            <h4 class='remove-bottom'>The Pranksters Bus</h4>
          </li>

          <!-- Caps Center -->
          <li data-el='#img' data-scroll-to='false' data-width='320' data-orientation='right' data-align='center' data-margin='10'>
            <h3>No, seriously...</h3>
            <p>This is a pretty cool bus...<br/><small>I'm aligned 'center', btw...</small></p>
            <a href='javascript:void(0);' class='tourbus-prev button remove-bottom' onclick='$(this).hide();'><span>&laquo;</span> wait, what was that?</a>
            <a href='javascript:void(0);' style='float: right;' class='tourbus-next button remove-bottom'>gotcha <span>&raquo;</span></a>
          </li>

          <!-- Caps Bottom (TODO) -->
          <li data-el='#img' data-scroll-to='false' data-width='250' data-orientation='right' data-margin='10' data-align='bottom'>
            <a style='margin-top: 2px; float: right;' href='javascript:void(0);' class='tourbus-next button remove-bottom'>I get it...</a>
            <h4>Finally...</h4>
            <p class='remove-bottom'>This is the last leg about the bus.</p>
          </li>

          <!-- Coffeescript -->
          <li data-el='#coffee-dl' data-width='315' data-scroll-to='false' data-orientation='left' data-align='center'>
            <div style='float: right;'>
              <a href='javascript:void(0);' style='display: block;margin-bottom: 5px;' class='button tourbus-next'>nah</a>
              <a href='javascript:void(0);' style='display: block;' class='button remove-bottom tourbus-next'>cool</a>
            </div>
            <h2 class='remove-bottom' style='padding-top: 9px;'>CoffeeScript!</h2>
          </li>

          <!-- Plain JS -->
          <li data-el='#plain-dl' data-width='315' data-scroll-to='false' data-orientation='left' data-align='center'>
            <a href='javascript:void(0);' style='margin-top: 6px; float: right;' class='button remove-bottom tourbus-next'>alrighty</a>
            <h3>or, Plain JS</h3>
            <p class='remove-bottom'>
              It was written in CoffeeScript, so the plain JavaScript
              may not be to your liking. If that's the case, maybe you could
              just get the
              <a href='../dist/jquery-tourbus.min.js' target='_blank'>minified version</a>!
            </p>
          </li>

          <!-- CSS -->
          <li data-el='#css' data-width='315' data-orientation='left' data-align='center' data-scroll-to='false'>
            <a href='javascript:void(0);' style='margin-top: 6px; float: right;' class='button remove-bottom tourbus-next'>yep <span>&raquo;</span></a>
            <h3 class='remove-bottom'>Get the CSS...</h3>
          </li>

          <!-- Deps -->
          <li data-el='#deps' data-width='315' data-orientation='left' data-align='center' data-scroll-to='false'>
            <a href='javascript:void(0);' style='margin-top: 6px; float: right;' class='button remove-bottom tourbus-next'>got it <span>&raquo;</span></a>
            <h3>Dependencies</h3>
            <p class='remove-bottom'>
              The only hard dependency is jQuery. If you want to scroll to
              your legs you need <tt>jQuery-scrollTo</tt>, and
              if you want positioning and stuff to behave predictably when images
              are involved you'll need <tt>jQuery-imagesLoaded</tt>.
            </p>
          </li>

          <!-- Scroll -->
          <li data-el='#it-scrolls' data-scroll-speed='1500' data-auto-progress='3500' data-orientation='top' data-width='200' data-margin='20'>
            <small>One more thing...</small>
          </li>
          <li data-el='#it-scrolls' data-orientation='bottom' data-margin='20' data-align='right'>
            <a href='javascript:void(0);' class='button remove-bottom tourbus-next'>Awesomesauce <span>&raquo;</span></a>
          </li>

          <!-- End -->
          <li data-orientation='centered' data-width='425' data-scroll-to='0'>
            <div style='float: right; width: 160px;'>
              <a href='javascript:void(0);' style='display: block;' class='button half-bottom tourbus-next'>goodbye</a>
              <a href='javascript:void(0);' style='display: block;' class='button remove-bottom docs-tour'>wait, didn't I see some docs fly by...?</a>
            </div>
            <h2>Thanks!</h2>
            <p class='remove-bottom'>This tour is over. Goodbye.</p>
          </li>
        </ol>

        <ol class='tourbus-legs' id='tourbus-demo-2'>
          <!-- INTRO -->
          <li data-el='#inner-docs' data-and-next='true' data-width='500' data-orientation='top' data-margin='15' data-scroll-context='25'>
            <a href='javascript:void(0);' class='button remove-bottom tourbus-next' style='float: right; margin-top: 8px;'>Cool, thanks.</a>
            <h2 class='remove-bottom'>Documentation</h2>
          </li>
          <!-- and the sidebar -->
          <li data-el='#inner-docs ul:first' data-width='280' data-orientation='right' data-align='bottom' data-scroll-to='false' data-margin='20'>
            <h4 class='remove-bottom'>Alternatives!</h4>
            <p class='remove-bottom'>
              Don't get me wrong, some of these tour plugins are good!
            </p>
          </li>
        </ol>
      </div>
    </div>
  </body>
</html>
